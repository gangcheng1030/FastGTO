package gangcheng1030.texasholdem.fastgto;

import gangcheng1030.texasholdem.fastgto.config.Database0Config;
import org.junit.Test;

import javax.sql.DataSource;
import java.sql.Connection;
import java.sql.SQLException;
import java.sql.Statement;

public class JDBCTest {
    @Test
    public void testJDBC() {
        Database0Config database0Config = new Database0Config();
        database0Config.setUrl("jdbc:mysql://192.168.1.7:3306/texas_holdem?serverTimezone=UTC&useUnicode=true&characterEncoding=utf-8");
        database0Config.setDriverClassName("com.mysql.jdbc.Driver");
        database0Config.setUsername("texas");
        database0Config.setPassword("891030");

        DataSource dataSource = database0Config.createDataSource();

        for (int i = 0; i  < 100; i++) {
            System.out.println(i);
            long startTime = System.currentTimeMillis();
            try (Connection connection = dataSource.getConnection()) {
                System.out.printf("耗时: %d \n", System.currentTimeMillis() - startTime);
                try (Statement statement = connection.createStatement()) {
                    System.out.printf("耗时: %d \n", System.currentTimeMillis() - startTime);
                    String sql = "insert into postflop_601 (id, preflop_actions, flop_cards, parent, player) values (12, 'abc', '2c2d2h', 0, 1)";
                    statement.executeUpdate(sql);
                    System.out.printf("update 耗时: %d \n", System.currentTimeMillis() - startTime);
                    statement.executeUpdate("delete from postflop_601");
                    System.out.printf("耗时: %d \n", System.currentTimeMillis() - startTime);
                }
            } catch (SQLException e) {
                e.printStackTrace();
            }
            System.out.printf("耗时: %d \n", System.currentTimeMillis() - startTime);
        }

    }

    @Test
    public void testLength() {
        String str = "{\"actions\":[\"CHECK\",\"BET 12.000000\",\"BET 15.000000\",\"BET 23.000000\",\"BET 77.000000\"],\"strategy\":{\"5d5c\":[18,227,241,504,7],\"5h5c\":[4,206,192,593,1],\"5h5d\":[16,235,240,499,7],\"5s5c\":[4,206,192,593,1],\"5s5d\":[16,235,240,499,7],\"5s5h\":[4,212,193,587,1],\"6d6c\":[46,380,85,482,4],\"6h6c\":[90,302,257,348,1],\"6h6d\":[36,373,65,519,4],\"6s6c\":[90,302,257,348,1],\"6s6d\":[36,373,65,519,4],\"6s6h\":[75,300,247,375,1],\"7d7c\":[139,241,155,460,3],\"7h7c\":[153,271,300,273,1],\"7h7d\":[88,261,153,493,3],\"7s7c\":[153,271,300,273,1],\"7s7d\":[88,261,153,493,3],\"7s7h\":[153,277,288,278,1],\"9c8c\":[75,467,391,65,0],\"9d8d\":[142,0,317,538,1],\"9d9c\":[21,686,290,0,0],\"9h8h\":[64,483,315,136,0],\"9h9c\":[324,518,154,1,0],\"9h9d\":[2,695,300,0,0],\"9s8s\":[64,483,315,136,0],\"9s9c\":[324,518,154,1,0],\"9s9d\":[2,695,300,0,0],\"9s9h\":[317,527,153,1,0],\"Ac3c\":[306,335,258,98,0],\"Ac4c\":[359,327,241,71,0],\"Ac5c\":[261,345,264,127,0],\"Ac6c\":[139,380,299,179,0],\"Ac7c\":[147,382,307,161,0],\"AcJd\":[7,434,402,154,0],\"AcJh\":[2,349,357,289,1],\"AcJs\":[2,349,357,289,1],\"AcKc\":[1,349,328,318,1],\"AcKd\":[33,443,432,89,0],\"AcKh\":[1,386,333,276,2],\"AcKs\":[1,386,333,276,2],\"AcQc\":[2,259,343,392,1],\"AcQd\":[4,295,376,323,0],\"AcQh\":[1,309,342,344,1],\"AcQs\":[1,309,342,344,1],\"AcTd\":[15,540,424,18,0],\"AcTh\":[2,390,349,255,1],\"AcTs\":[2,390,349,255,1],\"Ah2h\":[9,551,379,59,0],\"Ah3h\":[55,396,350,197,1],\"Ah4h\":[134,365,318,180,1],\"Ah5h\":[61,385,337,214,1],\"Ah6h\":[8,402,356,231,1],\"Ah7h\":[8,405,366,217,1],\"AhAc\":[52,706,240,0,0],\"AhJc\":[2,325,355,314,1],\"AhJd\":[8,426,394,170,0],\"AhJs\":[2,344,353,297,1],\"AhKc\":[1,326,331,337,2],\"AhKd\":[25,419,423,131,0],\"AhKh\":[1,378,329,288,2],\"AhKs\":[1,378,329,288,2],\"AhQc\":[1,237,345,413,2],\"AhQd\":[4,288,371,335,0],\"AhQh\":[1,305,337,352,1],\"AhQs\":[1,305,337,353,1],\"AhTc\":[4,391,345,257,1],\"AhTd\":[19,538,420,20,0],\"AhTs\":[2,386,349,259,1],\"As2s\":[9,551,379,59,0],\"As3s\":[55,396,350,197,1],\"As4s\":[134,365,318,180,1],\"As5s\":[61,385,337,214,1],\"As6s\":[8,402,356,231,1],\"As7s\":[8,405,366,217,1],\"AsAc\":[52,706,240,0,0],\"AsAh\":[69,694,235,0,0],\"AsJc\":[2,325,355,314,1],\"AsJd\":[8,426,394,170,0],\"AsJh\":[2,344,353,297,1],\"AsKc\":[1,326,331,337,2],\"AsKd\":[25,419,423,131,0],\"AsKh\":[1,378,329,288,2],\"AsKs\":[1,378,329,288,2],\"AsQc\":[1,237,345,413,2],\"AsQd\":[4,288,371,335,0],\"AsQh\":[1,305,337,353,1],\"AsQs\":[1,305,337,352,1],\"AsTc\":[4,391,345,257,1],\"AsTd\":[19,538,420,20,0],\"AsTh\":[2,386,349,259,1],\"Jc9c\":[1,474,466,57,0],\"JcTd\":[0,310,309,379,0],\"JcTh\":[1,399,378,220,0],\"JcTs\":[1,399,378,220,0],\"Jd9d\":[14,0,141,842,0],\"JdJc\":[45,559,375,18,0],\"JdTc\":[1,333,328,336,0],\"JdTh\":[0,319,329,349,0],\"JdTs\":[0,319,329,349,0],\"Jh9h\":[1,412,339,246,0],\"JhJc\":[20,553,418,5,0],\"JhJd\":[7,551,392,46,0],\"JhTc\":[1,385,376,236,0],\"JhTd\":[0,269,313,415,0],\"JhTs\":[1,374,376,247,0],\"Js9s\":[1,412,339,246,0],\"JsJc\":[20,553,418,5,0],\"JsJd\":[7,551,392,46,0],\"JsJh\":[11,555,425,6,0],\"JsTc\":[1,385,376,236,0],\"JsTd\":[0,269,313,415,0],\"JsTh\":[1,374,376,247,0],\"Kc5c\":[3,557,406,32,0],\"Kc6c\":[199,441,298,60,0],\"Kc7c\":[230,449,296,24,0],\"Kc9c\":[361,436,200,1,0],\"KcJd\":[10,476,317,194,0],\"KcJh\":[17,478,367,136,0],\"KcJs\":[17,478,367,136,0],\"KcQd\":[8,637,330,21,2],\"KcQh\":[9,542,376,72,0],\"KcQs\":[9,542,376,72,0],\"KcTd\":[17,489,333,159,0],\"KcTh\":[103,562,328,5,0],\"KcTs\":[103,562,328,5,0],\"Kd5d\":[13,0,4,981,0],\"Kd6d\":[10,0,5,982,0],\"Kd7d\":[11,0,6,981,0],\"Kd9d\":[31,1,16,950,0],\"KdJc\":[15,356,351,276,1],\"KdJh\":[1,322,357,317,1],\"KdJs\":[1,322,357,317,1],\"KdKc\":[97,538,362,0,0],\"KdQc\":[6,535,272,184,1],\"KdQh\":[2,391,295,308,1],\"KdQs\":[2,392,295,308,1],\"KdTc\":[16,419,433,129,0],\"KdTh\":[1,408,444,145,0],\"KdTs\":[1,408,444,145,0],\"Kh5h\":[4,401,328,266,0],\"Kh6h\":[166,325,261,245,0],\"Kh7h\":[186,328,261,224,0],\"Kh9h\":[306,424,261,7,0],\"KhJc\":[27,381,381,208,0],\"KhJd\":[1,334,335,328,0],\"KhJs\":[11,355,387,245,0],\"KhKc\":[95,505,397,1,0],\"KhKd\":[47,568,382,0,0],\"KhQc\":[7,587,375,29,0],\"KhQd\":[4,552,355,84,2],\"KhQs\":[7,461,395,134,0],\"KhTc\":[174,406,338,80,0],\"KhTd\":[1,347,347,303,0],\"KhTs\":[67,437,380,114,0],\"Ks5s\":[4,401,328,266,0],\"Ks6s\":[166,326,261,245,0],\"Ks7s\":[186,328,261,224,0],\"Ks9s\":[306,424,261,7,0],\"KsJc\":[27,381,381,208,0],\"KsJd\":[1,334,335,328,0],\"KsJh\":[11,355,387,245,0],\"KsKc\":[95,505,397,1,0],\"KsKd\":[47,568,382,0,0],\"KsKh\":[71,513,412,1,0],\"KsQc\":[7,587,375,29,0],\"KsQd\":[4,552,355,84,2],\"KsQh\":[7,461,395,134,0],\"KsTc\":[174,406,338,80,0],\"KsTd\":[1,347,347,303,0],\"KsTh\":[67,437,380,114,0],\"Qc9c\":[1,579,403,15,0],\"QcJd\":[7,429,223,339,0],\"QcJh\":[1,412,363,222,0],\"QcJs\":[1,412,363,222,0],\"QcTd\":[0,420,300,277,0],\"QcTh\":[1,464,379,154,0],\"QcTs\":[1,464,379,154,0],\"Qd9d\":[11,1,53,932,0],\"QdJc\":[1,594,349,55,0],\"QdJh\":[1,578,349,70,0],\"QdJs\":[1,578,349,70,0],\"QdQc\":[45,536,336,80,0],\"QdTc\":[1,580,364,54,0],\"QdTh\":[1,568,362,67,0],\"QdTs\":[1,568,362,67,0],\"Qh9h\":[49,391,315,243,0],\"QhJc\":[1,352,379,267,0],\"QhJd\":[1,334,230,434,0],\"QhJs\":[1,335,376,287,0],\"QhQc\":[7,554,435,2,0],\"QhQd\":[38,536,351,72,0],\"QhTc\":[2,374,394,228,0],\"QhTd\":[0,285,320,392,0],\"QhTs\":[1,363,393,241,0],\"Qs9s\":[49,391,315,243,0],\"QsJc\":[1,352,378,267,0],\"QsJd\":[1,334,230,434,0],\"QsJh\":[1,335,376,287,0],\"QsQc\":[7,554,435,2,0],\"QsQd\":[38,534,352,73,0],\"QsQh\":[8,540,448,2,0],\"QsTc\":[2,374,394,228,0],\"QsTd\":[0,285,320,392,0],\"QsTh\":[1,363,393,241,0],\"Tc8c\":[11,373,423,191,0],\"Tc9c\":[27,457,458,56,0],\"Td8d\":[18,0,61,918,0],\"Td9d\":[41,0,203,753,0],\"TdTc\":[51,563,384,0,0],\"Th8h\":[42,363,307,286,0],\"Th9h\":[32,457,346,164,0],\"ThTc\":[10,637,347,3,0],\"ThTd\":[6,590,400,0,0],\"Ts8s\":[42,363,307,286,0],\"Ts9s\":[32,457,346,164,0],\"TsTc\":[10,637,347,3,0],\"TsTd\":[6,590,400,0,0],\"TsTh\":[10,633,351,3,0]}}";
        System.out.println(str.length());
    }
}
